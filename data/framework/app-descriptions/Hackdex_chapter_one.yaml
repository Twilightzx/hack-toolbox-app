---
# Keep in sync with the app.yaml from com.endlessm.Hackdex_chapter_one
vars:
  home-button:
    type: Banner.HomeButton
    properties:
      text: 'HACKDEX : CHAPTER 1'

  app-banner:
    type: Banner.Dynamic
    properties:
      mode: full
      format-string: 'Clubhouse Directory'
      valign: center
      halign: start

  home-articles-card:
    type: Card.Hackdex

  articles-card:
    type: Card.Hackdex
    styles:
      - CardHackdexArticle

  home-articles-order:
    type: Order.Sequence

  home-articles-arrangement:
    type: Arrangement.Grid
    properties:
      homogeneous: true
      column-spacing: 33
      row-spacing: 90
      halign: center
      valign: start

  articles-arrangement:
    type: Arrangement.Grid
    properties:
      homogeneous: true
      column-spacing: 33
      row-spacing: 90
      halign: end
      valign: start
      margin-right: 80
      max-children-per-line: 4

defines:

  # Pages
  - &home-page
    type: Layout.Scrolling
    slots:
      content:
        type: Layout.Overlay
        properties:
          hexpand: true
        slots:
          overlays:
            - type: Layout.Box
              properties:
                orientation: horizontal
                valign: start
                hexpand: true
                vexpand: false
              styles:
                - overlayHead
              slots:
                contents:
                  - refvar: $home-button
                    styles:
                      - bannerHead
          content:
            type: 'Layout.Box'
            styles:
              - LayoutScrolling--maincontainer
            properties:
              orientation: vertical
            slots:
              contents:
                - refvar: $app-banner
                - type: ContentGroup.ContentGroup
                  properties:
                    cards-per-page: 20
                  styles:
                    - ContentGroup--maincontent
                  slots:
                    arrangement:
                      refvar: $home-articles-arrangement
                      slots:
                        card: $home-articles-card
                    selection:
                      type: Selection.FeaturedFirst
                      id: home-articles
                      slots:
                        order: $home-articles-order
                        filter:
                          type: Filter.Articles

  - &article-page
    type: Layout.Overlay
    properties:
      hexpand: true
    slots:
      overlays:
        - type: Layout.Box
          properties:
            orientation: horizontal
            valign: start
            hexpand: true
          styles:
            - overlayHead
          slots:
            contents:
              - refvar: $home-button
                styles:
                  - bannerHead
      content:
        type: 'Layout.Box'
        styles:
          - LayoutScrolling--maincontainer
        properties:
          expand: true
          orientation: vertical
        slots:
          contents:
            - type: Layout.ArticleStack
              slots:
                article: View.DocumentDev
                nav-content:
                  type: Layout.Box
                  styles:
                    - Nav-LayoutBox
                  slots:
                    contents:
                      - type: ContentGroup.ContentGroup
                        properties:
                          cards-per-page: 5
                          halign: fill
                          valign: end
                        styles:
                          - ContentGroup--navcontent
                        slots:
                          arrangement:
                            refvar: $articles-arrangement
                            slots:
                              card: $articles-card
                          selection:
                            type: Selection.FeaturedFirst
                            id: home-articles
                            slots:
                              order: $home-articles-order
                              filter:
                                type: Filter.CurrentItemDev

# App
root:
  type: Controller.MeshDev
  slots:
    window:
      type: Window.Simple
      slots:
        content:
          type: ContentGroup.MediaLightbox
          slots:
            view: View.Media
            content:
              type: Pager.Simple
              slots:
                home-page: *home-page
                article-page: *article-page
